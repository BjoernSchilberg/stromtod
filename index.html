<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script>
    <title>Karte</title>
    <style>
        body {
            padding: 0;
            margin: 0;
        }

        html,
        body,
        #map {
            height: 95%;
            width: 100%;
        }
    </style>
</head>

<body>
    <div id='map'></div>
    <input type="radio" name="anzahl" id="AnzahlA" checked />
    <label for="AnzahlA">AnzahlA</label>
    <input type="radio" name="anzahl" id="AnzahlB" />
    <label for="AnzahlB">AnzahlB</label>
    <input type="radio" name="anzahl" id="AnzahlC" />
    <label for="AnzahlC">AnzahlC</label>
    <input type="radio" name="anzahl" id="AnzahlABC" />
    <label for="AnzahlABC">AnzahlABC</label>
</body>

<script>
    // Construct a bounding box for this map that the user cannot
    // move out of
    var southWest = L.latLng(47.2703, 5.8667);
    var northEast = L.latLng(55.0585, 15.0419);
    var maxBounds = L.latLngBounds(southWest, northEast);

    var map = L.map('map', {
        bounds: maxBounds,
        maxBounds: maxBounds,
        minZoom: 6,
        maxZoom: 18
    }).setView([51.18, 9.26], 6);

    L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',
    }).addTo(map);

    var tk25 ={
"type": "FeatureCollection",
"name": "tk25",
"crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },
"features": [
{ "type": "Feature", "properties": {}, "geometry": { "type": "Polygon", "coordinates": [ [ [ 12.8318, 47.3992 ], [ 12.8318, 47.4991 ], [ 12.6651, 47.4991 ], [ 12.6651, 47.5991 ], [ 12.4985, 47.5991 ], [ 12.3319, 47.5991 ], [ 12.1652, 47.5991 ], [ 11.9986, 47.5991 ], [ 11.8319, 47.5991 ], [ 11.6653, 47.5991 ], [ 11.6653, 47.4991 ], [ 11.4986, 47.4991 ], [ 11.4986, 47.3992 ], [ 11.332, 47.3991 ], [ 11.1653, 47.3991 ], [ 10.9987, 47.3991 ], [ 10.8321, 47.3991 ], [ 10.8321, 47.4991 ], [ 10.6654, 47.4991 ], [ 10.4988, 47.4991 ], [ 10.4988, 47.3991 ], [ 10.4988, 47.2992 ], [ 10.3321, 47.2992 ], [ 10.3321, 47.1992 ], [ 10.1655, 47.1992 ], [ 10.1655, 47.2992 ], [ 9.9988, 47.2992 ], [ 9.9988, 47.3991 ], [ 9.9988, 47.4991 ], [ 9.8322, 47.4991 ], [ 9.6655, 47.4991 ], [ 9.4989, 47.4991 ], [ 9.4989, 47.5991 ], [ 9.3323, 47.5991 ], [ 9.1656, 47.5991 ], [ 8.999, 47.5991 ], [ 8.8323, 47.5991 ], [ 8.6657, 47.5991 ], [ 8.6657, 47.4991 ], [ 8.499, 47.4991 ], [ 8.3324, 47.4991 ], [ 8.1658, 47.4991 ], [ 7.9991, 47.4991 ], [ 7.8325, 47.4991 ], [ 7.6658, 47.4991 ], [ 7.4992, 47.4991 ], [ 7.4992, 47.5991 ], [ 7.4992, 47.6991 ], [ 7.4992, 47.7991 ], [ 7.4992, 47.8991 ], [ 7.4992, 47.9991 ], [ 7.4992, 48.0991 ], [ 7.4992, 48.199 ], [ 7.4992, 48.299 ], [ 7.6658, 48.299 ], [ 7.6658, 48.399 ], [ 7.6658, 48.499 ], [ 7.6658, 48.599 ], [ 7.6658, 48.699 ], [ 7.8325, 48.699 ], [ 7.8325, 48.799 ], [ 7.9991, 48.799 ], [ 7.9991, 48.899 ], [ 7.9991, 48.999 ], [ 7.8325, 48.999 ], [ 7.6658, 48.999 ], [ 7.4992, 48.999 ], [ 7.4992, 49.0989 ], [ 7.3325, 49.0989 ], [ 7.1659, 49.0989 ], [ 6.9992, 49.0989 ], [ 6.8326, 49.0989 ], [ 6.666, 49.0989 ], [ 6.666, 49.1989 ], [ 6.4993, 49.1989 ], [ 6.4993, 49.2989 ], [ 6.4993, 49.3989 ], [ 6.3327, 49.3989 ], [ 6.3327, 49.4989 ], [ 6.3327, 49.5989 ], [ 6.3327, 49.6989 ], [ 6.3327, 49.7989 ], [ 6.166, 49.7989 ], [ 6.166, 49.8989 ], [ 5.9994, 49.8989 ], [ 5.9994, 49.9988 ], [ 5.9994, 50.0988 ], [ 5.9994, 50.1988 ], [ 6.166, 50.1988 ], [ 6.166, 50.2988 ], [ 6.166, 50.3988 ], [ 6.3327, 50.3988 ], [ 6.3327, 50.4988 ], [ 6.166, 50.4988 ], [ 6.166, 50.5988 ], [ 6.166, 50.6988 ], [ 5.9994, 50.6988 ], [ 5.9994, 50.7988 ], [ 5.9994, 50.8987 ], [ 5.8327, 50.8987 ], [ 5.8327, 50.9987 ], [ 5.8327, 51.0987 ], [ 5.9994, 51.0987 ], [ 5.9994, 51.1987 ], [ 5.9994, 51.2987 ], [ 6.166, 51.2987 ], [ 6.166, 51.3987 ], [ 6.166, 51.4987 ], [ 5.9994, 51.4987 ], [ 5.9994, 51.5987 ], [ 5.9994, 51.6987 ], [ 5.8327, 51.6987 ], [ 5.8327, 51.7986 ], [ 5.8327, 51.8986 ], [ 5.9994, 51.8986 ], [ 6.166, 51.8986 ], [ 6.3327, 51.8986 ], [ 6.4993, 51.8986 ], [ 6.6659, 51.8986 ], [ 6.6659, 51.9986 ], [ 6.6659, 52.0986 ], [ 6.8326, 52.0986 ], [ 6.8326, 52.1986 ], [ 6.9992, 52.1986 ], [ 6.9992, 52.2986 ], [ 6.9992, 52.3986 ], [ 6.8326, 52.3986 ], [ 6.6659, 52.3986 ], [ 6.6659, 52.4986 ], [ 6.6659, 52.5986 ], [ 6.6659, 52.6985 ], [ 6.8326, 52.6985 ], [ 6.9992, 52.6985 ], [ 6.9992, 52.7985 ], [ 6.9992, 52.8985 ], [ 7.1659, 52.8985 ], [ 7.1659, 52.9985 ], [ 7.1659, 53.0985 ], [ 7.1659, 53.1985 ], [ 7.1659, 53.2985 ], [ 6.9992, 53.2985 ], [ 6.9992, 53.3985 ], [ 6.9992, 53.4985 ], [ 6.8326, 53.4985 ], [ 6.6659, 53.4985 ], [ 6.6659, 53.5984 ], [ 6.6659, 53.6984 ], [ 6.8326, 53.6984 ], [ 6.9992, 53.6984 ], [ 6.9992, 53.7984 ], [ 7.1659, 53.7984 ], [ 7.3325, 53.7984 ], [ 7.4991, 53.7984 ], [ 7.6658, 53.7984 ], [ 7.8324, 53.7984 ], [ 7.9991, 53.7984 ], [ 8.1657, 53.7984 ], [ 8.1657, 53.6984 ], [ 8.3324, 53.6984 ], [ 8.3324, 53.7984 ], [ 8.3324, 53.8984 ], [ 8.3324, 53.9984 ], [ 8.499, 53.9984 ], [ 8.6656, 53.9984 ], [ 8.6656, 54.0984 ], [ 8.6656, 54.1984 ], [ 8.499, 54.1984 ], [ 8.499, 54.2984 ], [ 8.499, 54.3984 ], [ 8.3323, 54.3984 ], [ 8.3323, 54.4983 ], [ 8.3323, 54.5983 ], [ 8.1657, 54.5983 ], [ 8.1657, 54.6983 ], [ 8.1657, 54.7983 ], [ 8.1657, 54.8983 ], [ 8.1657, 54.9983 ], [ 8.3323, 54.9983 ], [ 8.3323, 55.0983 ], [ 8.499, 55.0983 ], [ 8.499, 54.9983 ], [ 8.6656, 54.9983 ], [ 8.8323, 54.9983 ], [ 8.9989, 54.9983 ], [ 8.9989, 54.8983 ], [ 9.1655, 54.8983 ], [ 9.3322, 54.8983 ], [ 9.4988, 54.8983 ], [ 9.6655, 54.8983 ], [ 9.8321, 54.8983 ], [ 9.8321, 54.7983 ], [ 9.9987, 54.7983 ], [ 9.9987, 54.6983 ], [ 10.1654, 54.6983 ], [ 10.1654, 54.5983 ], [ 10.1654, 54.4984 ], [ 10.332, 54.4984 ], [ 10.4987, 54.4984 ], [ 10.4987, 54.3984 ], [ 10.6653, 54.3984 ], [ 10.832, 54.3984 ], [ 10.9986, 54.3984 ], [ 10.9986, 54.4984 ], [ 10.9986, 54.5984 ], [ 11.1652, 54.5984 ], [ 11.3319, 54.5984 ], [ 11.3319, 54.4984 ], [ 11.3319, 54.3984 ], [ 11.1652, 54.3984 ], [ 11.1652, 54.2984 ], [ 11.1652, 54.1984 ], [ 11.1652, 54.0984 ], [ 11.3319, 54.0984 ], [ 11.4985, 54.0984 ], [ 11.4985, 54.1984 ], [ 11.6652, 54.1984 ], [ 11.8318, 54.1984 ], [ 11.9984, 54.1984 ], [ 12.1651, 54.1984 ], [ 12.1651, 54.2984 ], [ 12.3317, 54.2984 ], [ 12.3317, 54.3984 ], [ 12.3317, 54.4984 ], [ 12.4984, 54.4984 ], [ 12.665, 54.4984 ], [ 12.8316, 54.4984 ], [ 12.9983, 54.4984 ], [ 12.9983, 54.5984 ], [ 13.1649, 54.5984 ], [ 13.1649, 54.6984 ], [ 13.3316, 54.6984 ], [ 13.4982, 54.6984 ], [ 13.4982, 54.5984 ], [ 13.6648, 54.5984 ], [ 13.6648, 54.4984 ], [ 13.6648, 54.3984 ], [ 13.8315, 54.3984 ], [ 13.8315, 54.2984 ], [ 13.9981, 54.2984 ], [ 13.9981, 54.1984 ], [ 13.9981, 54.0984 ], [ 14.1648, 54.0984 ], [ 14.1648, 53.9984 ], [ 14.3314, 53.9984 ], [ 14.3314, 53.8985 ], [ 14.3314, 53.7985 ], [ 14.3314, 53.6985 ], [ 14.3314, 53.5985 ], [ 14.3314, 53.4985 ], [ 14.4981, 53.4985 ], [ 14.4981, 53.3985 ], [ 14.4981, 53.2985 ], [ 14.4981, 53.1985 ], [ 14.4981, 53.0985 ], [ 14.4981, 52.9986 ], [ 14.3314, 52.9986 ], [ 14.3314, 52.8986 ], [ 14.3315, 52.7986 ], [ 14.4981, 52.7986 ], [ 14.4981, 52.6986 ], [ 14.6647, 52.6986 ], [ 14.6647, 52.5986 ], [ 14.6647, 52.4986 ], [ 14.6647, 52.3986 ], [ 14.6647, 52.2986 ], [ 14.8314, 52.2986 ], [ 14.8314, 52.1987 ], [ 14.8314, 52.0987 ], [ 14.8314, 51.9987 ], [ 14.8314, 51.8987 ], [ 14.6648, 51.8987 ], [ 14.6648, 51.7987 ], [ 14.8314, 51.7987 ], [ 14.8314, 51.6987 ], [ 14.8314, 51.5987 ], [ 14.8314, 51.4987 ], [ 14.9981, 51.4987 ], [ 14.9981, 51.3987 ], [ 15.1647, 51.3987 ], [ 15.1647, 51.2988 ], [ 15.1647, 51.1988 ], [ 15.1647, 51.0988 ], [ 14.9981, 51.0988 ], [ 14.9981, 50.9988 ], [ 14.9981, 50.8988 ], [ 14.8314, 50.8988 ], [ 14.8314, 50.7988 ], [ 14.6648, 50.7988 ], [ 14.4981, 50.7988 ], [ 14.3315, 50.7988 ], [ 14.1649, 50.7988 ], [ 13.9982, 50.7988 ], [ 13.9982, 50.6988 ], [ 13.8316, 50.6988 ], [ 13.6649, 50.6988 ], [ 13.6649, 50.5988 ], [ 13.4983, 50.5988 ], [ 13.3317, 50.5988 ], [ 13.3317, 50.4988 ], [ 13.165, 50.4988 ], [ 13.165, 50.3988 ], [ 12.9984, 50.3988 ], [ 12.8317, 50.3988 ], [ 12.6651, 50.3988 ], [ 12.6651, 50.2988 ], [ 12.4984, 50.2988 ], [ 12.4984, 50.1988 ], [ 12.3318, 50.1988 ], [ 12.3318, 50.0989 ], [ 12.4984, 50.0989 ], [ 12.4985, 49.9989 ], [ 12.6651, 49.9989 ], [ 12.6651, 49.8989 ], [ 12.6651, 49.7989 ], [ 12.4985, 49.7989 ], [ 12.4985, 49.6989 ], [ 12.6651, 49.6989 ], [ 12.6651, 49.5989 ], [ 12.6651, 49.4989 ], [ 12.8317, 49.4989 ], [ 12.8317, 49.3989 ], [ 12.9984, 49.3989 ], [ 12.9984, 49.299 ], [ 13.165, 49.299 ], [ 13.165, 49.199 ], [ 13.3317, 49.199 ], [ 13.3317, 49.099 ], [ 13.4983, 49.099 ], [ 13.4983, 48.999 ], [ 13.665, 48.999 ], [ 13.665, 48.899 ], [ 13.8316, 48.899 ], [ 13.8316, 48.799 ], [ 13.8316, 48.699 ], [ 13.8316, 48.599 ], [ 13.8316, 48.499 ], [ 13.665, 48.499 ], [ 13.4983, 48.499 ], [ 13.4983, 48.3991 ], [ 13.4983, 48.2991 ], [ 13.3317, 48.2991 ], [ 13.1651, 48.2991 ], [ 13.1651, 48.1991 ], [ 12.9984, 48.1991 ], [ 12.8318, 48.1991 ], [ 12.8318, 48.0991 ], [ 12.8318, 47.9991 ], [ 12.9984, 47.9991 ], [ 12.9984, 47.8991 ], [ 12.9984, 47.7991 ], [ 12.9984, 47.6991 ], [ 13.1651, 47.6991 ], [ 13.1651, 47.5991 ], [ 13.1651, 47.4992 ], [ 13.1651, 47.3992 ], [ 12.9984, 47.3992 ], [ 12.8318, 47.3992 ] ] ,  [ [ 7.8324, 54.0984 ], [ 7.8324, 54.1984 ], [ 7.9991, 54.1984 ], [ 7.9991, 54.0984 ], [ 7.8324, 54.0984 ] ] ]} }
]
}



    L.Mask = L.Polygon.extend({
        options: {
            stroke: false,
            color: '#333',
            fillOpacity: 0.5,
            clickable: true,

            outerBounds: new L.LatLngBounds([-90, -360], [90, 360])
        },

        initialize: function (latLngs, options) {

            var outerBoundsLatLngs = [
                this.options.outerBounds.getSouthWest(),
                this.options.outerBounds.getNorthWest(),
                this.options.outerBounds.getNorthEast(),
                this.options.outerBounds.getSouthEast()
            ];
            L.Polygon.prototype.initialize.call(this, [outerBoundsLatLngs, latLngs], options);
        },

    });
    L.mask = function (latLngs, options) {
        return new L.Mask(latLngs, options);
    };

    // transform geojson coordinates into an array of L.LatLng
    var coordinates1 = tk25.features[0].geometry.coordinates[0];
    var latLngs = [];
    for (i = 0; i < coordinates1.length; i++) {
        latLngs.push(new L.LatLng(coordinates1[i][1], coordinates1[i][0]));
    }
    // transform geojson coordinates into an array of L.LatLng
    var coordinates2 = tk25.features[0].geometry.coordinates[1];
    for (i = 0; i < coordinates2.length; i++) {
        latLngs.push(new L.LatLng(coordinates2[i][1], coordinates2[i][0]));
    }


    L.mask(latLngs).addTo(map);

    function setAnzahlAColor(d) {
        return d > 4 ? '#91191e' :
        d > 3 ? '#ef2e21' :
        d > 1 ? '#f3b710' :
        d > 0 ? '#eaee26' :
        '#FFFFFF';
    }

    function AnzahlAStyle(feature) {
        return {
            fillColor: setAnzahlAColor(feature.properties.Anzahl_A),
            weight: 1,
            opacity: 0.7,
            color: 'white',
            fillOpacity: 0.7
        };
    }

    function setAnzahlBColor(d) {
        return d > 5 ? '#91191e' :
        d > 2 ? '#ef2e21' :
        d > 1 ? '#f3b710' :
        d > 0 ? '#eaee26' :
        '#FFFFFF';
    }


    function AnzahlBStyle(feature) {
        return {
            fillColor: setAnzahlBColor(feature.properties.Anzahl_B),
            weight: 1,
            opacity: 0.7,
            color: 'white',
            fillOpacity: 0.7
        };
    }

    function setAnzahlCColor(d) {
        return d > 24 ? '#91191e' :
        d > 19 ? '#ef2e21' :
        d > 15 ? '#f3b710' :
        d > 0 ? '#eaee26' :
        '#FFFFFF';
    }


    function AnzahlCStyle(feature) {
        return {
            fillColor: setAnzahlCColor(feature.properties.Anzahl_C),
            weight: 1,
            opacity: 0.7,
            color: 'white',
            fillOpacity: 0.7
        };
    }

    function setAnzahlABCColor(d) {
        return d > 31 ? '#91191e' :
        d > 24 ? '#ef2e21' :
        d > 17 ? '#f3b710' :
        d > 0 ? '#eaee26' :
        '#FFFFFF';
    }


    function AnzahlABCStyle(feature) {
        return {
            fillColor: setAnzahlABCColor(feature.properties.Anzahl_ABC),
            weight: 1,
            opacity: 0.7,
            color: 'white',
            fillOpacity: 0.7
        };
    }

    var stylesMapping = {
        "AnzahlA": AnzahlAStyle,
        "AnzahlB": AnzahlBStyle,
        "AnzahlC": AnzahlCStyle,
        "AnzahlABC": AnzahlABCStyle
    };

    assignClickListener("AnzahlA", onRadioClick);
    assignClickListener("AnzahlB", onRadioClick);
    assignClickListener("AnzahlC", onRadioClick);
    assignClickListener("AnzahlABC", onRadioClick);

    function assignClickListener(id, listener) {
        document.getElementById(id).addEventListener("click", listener);
    }

    var myGeoJSON;
    // load GeoJSON from an external file
    $.getJSON("data/Sensitivitaetskarte_wgs84.geojson", function (data) {
        // Radio buttons to let the user choose the ethny to use for colors.
        myGeoJSON = L.geoJson(data, {
            style: AnzahlAStyle
        }).addTo(map);
    });

    function onRadioClick(event) {
        var target = event.currentTarget,
            selectedAnzahl = target.id;

        console.log(selectedAnzahl);
        myGeoJSON.setStyle(stylesMapping[selectedAnzahl]);
    }

</script>

</html>